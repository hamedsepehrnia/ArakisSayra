# 📸 راهنمای بهینه‌سازی خودکار تصاویر

## ✅ سیستم فعال شد!

تمام تصاویری که از طریق پنل ادمین آپلود می‌شوند، **به صورت خودکار** بهینه‌سازی می‌شوند.

---

## 🎯 چه کاری انجام می‌شود؟

### 1️⃣ **Resize خودکار**
تصاویر به صورت خودکار به سایز بهینه تغییر اندازه می‌یابند (در صورتی که بزرگتر باشند):

| نوع تصویر | حداکثر ابعاد |
|-----------|-------------|
| بنر اصلی | 1920×960 |
| محصولات | 1000×1000 |
| بلاگ/اخبار | 900×585 |
| درباره ما | 800×600 |

### 2️⃣ **فشرده‌سازی هوشمند**
- کیفیت: 85-88% (تعادل بین کیفیت و حجم)
- Progressive JPEG: برای بارگذاری سریع‌تر
- Optimize: فعال برای کاهش حجم بیشتر

### 3️⃣ **مدیریت شفافیت**
- تصاویر PNG با شفافیت حفظ می‌شوند
- تصاویر RGBA برای JPEG به RGB تبدیل می‌شوند
- پس‌زمینه سفید برای تصاویر شفاف

---

## 📊 مزایا

✅ **کاهش حجم فایل**: تا 70-80% کاهش حجم بدون افت کیفیت محسوس  
✅ **سرعت بیشتر**: بارگذاری سریع‌تر صفحات  
✅ **SEO بهتر**: گوگل سایت‌های سریع را ترجیح می‌دهد  
✅ **هزینه کمتر**: مصرف کمتر bandwidth و فضای ذخیره‌سازی  
✅ **خودکار**: نیازی به بهینه‌سازی دستی نیست  

---

## 🔧 نحوه کار

هر بار که تصویری آپلود می‌کنید:

```
1. آپلود تصویر اصلی (مثلاً 5MB)
         ↓
2. بهینه‌سازی خودکار
   - Resize (اگر بزرگتر از حد مجاز)
   - کمپرس (Quality: 85-88%)
   - Optimize
         ↓
3. ذخیره تصویر بهینه شده (مثلاً 300KB)
```

---

## 📝 نکات مهم

### ✅ انجام بدهید:
- تصاویر با کیفیت خوب آپلود کنید
- نسبت‌های توصیه شده را رعایت کنید
- فرمت JPG برای عکس‌ها و PNG برای لوگو استفاده کنید

### ❌ انجام ندهید:
- تصاویر با کیفیت پایین آپلود نکنید
- تصاویر قبلاً فشرده شده را دوباره آپلود نکنید
- نگران حجم فایل نباشید (سیستم خودکار بهینه می‌کند)

---

## 🎨 راهنمای سایزها

### بنر اصلی
```
✅ بهینه: 1920×960 پیکسل
✅ نسبت: 2:1 (Landscape)
✅ فرمت: JPG
✅ حجم نهایی: ~200-400KB
```

### تصاویر محصولات
```
✅ بهینه: 1000×1000 پیکسل
✅ نسبت: 1:1 (مربع)
✅ فرمت: JPG یا PNG (با پس‌زمینه سفید)
✅ حجم نهایی: ~100-200KB
```

### تصاویر بلاگ/اخبار
```
✅ بهینه: 900×585 پیکسل
✅ نسبت: 3:2 (Landscape)
✅ فرمت: JPG
✅ حجم نهایی: ~150-300KB
```

### تصویر درباره ما
```
✅ بهینه: 800×600 پیکسل
✅ نسبت: 4:3
✅ فرمت: JPG
✅ حجم نهایی: ~100-250KB
```

---

## 🛠️ فایل‌های مرتبط

- `core/image_optimizer.py`: کد اصلی بهینه‌سازی
- `core/models.py`: مدل‌های Banner و SiteInfo
- `products/models.py`: مدل Product
- `blog/models.py`: مدل‌های Post و News

---

## 🧪 تست کردن

برای تست کردن:

1. یک تصویر بزرگ (مثلاً 5MB) آپلود کنید
2. بعد از ذخیره، حجم فایل را بررسی کنید
3. کیفیت تصویر را در وب‌سایت مشاهده کنید

**توجه**: تغییرات فقط برای تصاویر جدید اعمال می‌شود. تصاویر قبلی تغییر نمی‌کنند.

---

## 💡 سوالات متداول

**Q: آیا کیفیت تصویر کاهش می‌یابد؟**  
A: کاهش بسیار جزئی که با چشم غیرمسلح قابل تشخیص نیست (85-88% quality).

**Q: تصاویر قبلی چطور؟**  
A: برای بهینه‌سازی، باید دوباره ذخیره شوند (Edit → Save).

**Q: چه فرمت‌هایی پشتیبانی می‌شود؟**  
A: JPG، PNG، GIF، WebP و اکثر فرمت‌های رایج.

**Q: آیا می‌توان تنظیمات را تغییر داد؟**  
A: بله، از فایل `image_optimizer.py` پارامترهای `quality` و `max_size` را تغییر دهید.

---

✅ **سیستم فعال و آماده استفاده است!**

